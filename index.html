<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Neon Noir</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Allura&family=Orbitron:wght@400;600&family=Share+Tech+Mono&display=swap");

      :root {
        --black: #050505;
        --deep: #0b0b10;
        --neon-pink: #ff2eea;
        --neon-cyan: #00e5ff;
        --neon-red: #ff1744;
        --frost: #e8e8e8;
        --dim: #2b2b2b;
        --dial-fill: 0deg;
      }

      * {
        box-sizing: border-box;
      }

      html,
      body {
        height: 100%;
      }

      body {
        margin: 0;
        font-family: "Share Tech Mono", "Courier New", monospace;
        color: var(--neon-cyan);
        background: radial-gradient(circle at 15% 20%, #141420 0%, #050505 55%)
          no-repeat;
        overflow: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background: repeating-linear-gradient(
            0deg,
            rgba(255, 255, 255, 0.02),
            rgba(255, 255, 255, 0.02) 1px,
            transparent 1px,
            transparent 3px
          ),
          radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.05), transparent 45%);
        opacity: 0.3;
        pointer-events: none;
      }

      main {
        min-height: 100vh;
        display: grid;
        place-items: center;
        padding: 60px 20px;
      }

      .neon-card {
        width: min(860px, 92vw);
        padding: 64px 48px 56px;
        border-radius: 18px;
        background: linear-gradient(180deg, rgba(7, 7, 12, 0.96), #050507);
        border: 1px solid #181820;
        box-shadow: 0 0 40px rgba(0, 0, 0, 0.9),
          0 0 50px rgba(255, 46, 234, 0.08);
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .neon-card::after {
        content: "";
        position: absolute;
        inset: -40% -20% auto;
        height: 60%;
        background: radial-gradient(
          circle,
          rgba(255, 46, 234, 0.15),
          transparent 70%
        );
        opacity: 0.6;
        pointer-events: none;
      }

      .neon-name {
        font-family: "Allura", cursive;
        font-size: clamp(48px, 7vw, 72px);
        color: var(--neon-pink);
        text-shadow: 0 0 14px rgba(255, 46, 234, 0.6);
        margin: 0 0 8px 0;
        animation: neon-flicker 3.4s infinite;
      }

      .neon-question {
        font-family: "Orbitron", "Share Tech Mono", sans-serif;
        font-size: clamp(20px, 3vw, 28px);
        letter-spacing: 1.5px;
        text-transform: uppercase;
        margin: 0 0 32px 0;
        color: var(--frost);
        transition: color 0.3s ease, text-shadow 0.3s ease;
      }

      .neon-actions {
        display: flex;
        gap: 18px;
        justify-content: center;
        flex-wrap: wrap;
        margin-bottom: 24px;
      }

      .cluster-dial {
        width: min(260px, 60vw);
        height: min(260px, 60vw);
        margin: 18px auto 8px;
        border-radius: 50%;
        background: conic-gradient(
          var(--neon-pink) 0deg,
          var(--neon-pink) var(--dial-fill),
          rgba(255, 46, 234, 0.2) var(--dial-fill)
        );
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow: inset 0 0 24px rgba(0, 0, 0, 0.8),
          0 0 18px rgba(255, 46, 234, 0.25);
        position: relative;
        transition: background 0.4s ease;
      }

      .cluster-dial::before {
        content: "";
        position: absolute;
        inset: 18px;
        border-radius: 50%;
        border: 1px dashed rgba(255, 255, 255, 0.15);
      }

      .cluster-dial::after {
        content: "";
        position: absolute;
        inset: 44px;
        border-radius: 50%;
        background: radial-gradient(
          circle,
          rgba(5, 5, 8, 0.9),
          rgba(5, 5, 8, 0.98)
        );
      }

      .dial-label {
        position: absolute;
        bottom: 18px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 12px;
        letter-spacing: 3px;
        color: var(--frost);
        z-index: 1;
        text-transform: uppercase;
      }

      .btn {
        background: transparent;
        color: inherit;
        border: 1px solid currentColor;
        padding: 12px 22px;
        font-size: 14px;
        letter-spacing: 2px;
        text-transform: uppercase;
        cursor: pointer;
        transition: box-shadow 0.2s ease, transform 0.2s ease;
        min-width: 160px;
      }

      .btn:focus-visible {
        outline: 2px solid var(--frost);
        outline-offset: 2px;
      }

      .btn--yes {
        color: var(--neon-pink);
        box-shadow: 0 0 12px rgba(255, 46, 234, 0.5);
      }

      .btn--no {
        color: var(--dim);
        border-color: var(--dim);
        box-shadow: none;
      }

      .neon-message {
        font-size: clamp(18px, 2.4vw, 24px);
        color: var(--neon-cyan);
        opacity: 0;
        transform: translateY(12px);
        transition: opacity 0.6s ease, transform 0.6s ease;
      }

      .revving .neon-card {
        box-shadow: 0 0 45px rgba(255, 23, 68, 0.6),
          0 0 80px rgba(255, 23, 68, 0.35);
      }

      .revving .neon-question {
        color: var(--frost);
        text-shadow: 0 0 12px rgba(0, 229, 255, 0.5);
      }

      .revving .cluster-dial {
        box-shadow: inset 0 0 26px rgba(0, 0, 0, 0.85),
          0 0 20px rgba(255, 46, 234, 0.35);
      }

      .accepted .neon-question {
        color: var(--frost);
        text-shadow: 0 0 12px rgba(0, 229, 255, 0.5);
      }

      .accepted .neon-message {
        opacity: 1;
        transform: translateY(0);
      }

      @keyframes neon-flicker {
        0%,
        18%,
        100% {
          opacity: 1;
        }
        19%,
        24%,
        42%,
        52%,
        60% {
          opacity: 0.45;
        }
        25%,
        53% {
          opacity: 0.75;
        }
      }

      @media (max-width: 640px) {
        .btn {
          min-width: 140px;
        }
        .neon-card {
          padding: 50px 28px 44px;
        }
      }
    </style>
  </head>
  <body>
    <main>
      <section class="neon-card" aria-label="Neon noir invite">
        <h1 class="neon-name">Angie</h1>
        <p class="neon-question">Angie, are you free on February 14th?</p>
        <div class="cluster-dial" aria-hidden="true">
          <div class="dial-label">Speed</div>
        </div>
        <div class="neon-actions">
          <button class="btn btn--yes" type="button">Yes</button>
          <button class="btn btn--no" type="button">No</button>
        </div>
        <p class="neon-message" aria-live="polite">
          Let us grab food together and be my valentine, twin.
        </p>
      </section>
    </main>
    <script>
      const yesButton = document.querySelector(".btn--yes");
      const noButton = document.querySelector(".btn--no");
      const neonCard = document.querySelector(".neon-card");
      const neonQuestion = document.querySelector(".neon-question");
      const dial = document.querySelector(".cluster-dial");

      const padding = 18;
      const alertDistance = 70;

      const clamp = (value, min, max) => Math.min(Math.max(value, min), max);

      const noPhrases = [
        "No?",
        "Are you sure?",
        "Come on, Angie.",
        "Last chance.",
        "Think about it...",
        "Say yes?",
        "Okay, okay...",
      ];
      let phraseIndex = 0;
      let dialFill = 0;

      const playEngineSound = () => {
        const AudioContextClass = window.AudioContext || window.webkitAudioContext;
        if (!AudioContextClass) {
          return;
        }

        const audioContext = new AudioContextClass();
        const oscillator = audioContext.createOscillator();
        const gain = audioContext.createGain();
        const filter = audioContext.createBiquadFilter();

        oscillator.type = "sawtooth";
        oscillator.frequency.setValueAtTime(90, audioContext.currentTime);
        oscillator.frequency.exponentialRampToValueAtTime(
          260,
          audioContext.currentTime + 0.5
        );

        filter.type = "lowpass";
        filter.frequency.value = 420;

        gain.gain.setValueAtTime(0.001, audioContext.currentTime);
        gain.gain.exponentialRampToValueAtTime(
          0.12,
          audioContext.currentTime + 0.08
        );
        gain.gain.exponentialRampToValueAtTime(
          0.0001,
          audioContext.currentTime + 1.1
        );

        oscillator.connect(filter);
        filter.connect(gain);
        gain.connect(audioContext.destination);

        oscillator.start();
        oscillator.stop(audioContext.currentTime + 1.2);
      };

      const setButtonPosition = (button, x, y, rotation = 0) => {
        button.style.position = "fixed";
        button.style.left = `${x}px`;
        button.style.top = `${y}px`;
        button.style.transform = `rotate(${rotation}deg)`;
      };

      const getSafePosition = (button) => {
        const rect = button.getBoundingClientRect();
        const minX = padding;
        const minY = padding;
        const maxX = window.innerWidth - padding - rect.width;
        const maxY = window.innerHeight - padding - rect.height;

        return {
          x: clamp(Math.random() * (maxX - minX) + minX, minX, maxX),
          y: clamp(Math.random() * (maxY - minY) + minY, minY, maxY),
        };
      };

      const isNear = (button, x, y, distance) => {
        const rect = button.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        return Math.hypot(centerX - x, centerY - y) <= distance;
      };

      const moveNoButton = () => {
        const { x, y } = getSafePosition(noButton);
        setButtonPosition(noButton, x, y, 0);
        phraseIndex = (phraseIndex + 1) % noPhrases.length;
        neonQuestion.textContent = noPhrases[phraseIndex];
      };

      window.addEventListener("mousemove", (event) => {
        if (isNear(noButton, event.clientX, event.clientY, alertDistance)) {
          moveNoButton();
        }
      });

      window.addEventListener("touchstart", (event) => {
        if (!event.touches.length) {
          return;
        }
        const touch = event.touches[0];
        if (isNear(noButton, touch.clientX, touch.clientY, alertDistance)) {
          moveNoButton();
        }
      });

      yesButton.addEventListener("click", () => {
        document.body.classList.remove("revving");
        void neonCard.offsetWidth;
        document.body.classList.add("revving");
        playEngineSound();

        dialFill = Math.min(330, dialFill + 66);
        dial.style.setProperty("--dial-fill", `${dialFill}deg`);

        if (dialFill >= 330) {
          document.body.classList.add("accepted");
        }
      });
    </script>
  </body>
</html>
